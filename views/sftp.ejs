<!DOCTYPE html>
<html>
<head>

<script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
</script>
<title>Page Title</title>
</head>
<script>
</script> 
<body>
<h1><center> SFTP Ingestion</center> </h1>
<p id="status" style="text-align: center;font-weight: bold;"><b></b></p>
<table>
<tr><th>Detail</th><th></th></tr>
<tr>
<td>Remote Server</td>
<td><input type="text" name="hostname" id="host" /></td>
</tr>
<tr>
<td>Username</td>
<td><input type="text" name="username" id="username"/></td>
</tr>
<tr>
<td>Remote File Path</td>
<td><input type="text" name="filepath" id="path"/></td>
</tr>
<tr>
<td>HDFS Path</td>
<td><input type="text" name="hdfsfilepath" id="hdfspath"/></td>
</tr>
</table>
<table>
 <h3>Scheduler Details</h3>
 <tr>  
    <td> Execution Mode: </td>
    <td><select id="mode">
      <option value="once">Once</option>
      <option value="incremental">Incremental</option>
    </select></td>
</tr>
<tr>
    <td> Start Date Time: </td>
    <td><input type="text" id="startDateTime"></td>
</tr>
<tr>
    <td>Ferquency In Minutes:</td>
    <td><input type="text" id="frequencyInMinutes"></td>
</tr>

</table>

<input type="button" value="Submit Job" id="connect" />

</body>
</html>

<script type="text/javascript">
	
	$("#connect").click(function(){
	$("#status").text("");
        var host = $("#host").val();
        var port = $("#port").val();
        var username = $("#username").val();
        var password = $("#password").val();
        var path  = $("#path").val();
        var hdfspath = $("#hdfspath").val();
		var mode = $("#mode").val();
        var startDateTime = $("#startDateTime").val();
        var frequencyInMinutes = $("#frequencyInMinutes").val();

		  $.ajax(
            {
                url: "sftpLogic",
                type:"post",
               data: { host: host, port : port, username: username, password : password, path : path, hdfspath : hdfspath, mode : mode, startDateTime : startDateTime, frequencyInMinutes : frequencyInMinutes} ,
                success: function(result){
                $("#status").text(result.Response);
        }});

	});
</script>
